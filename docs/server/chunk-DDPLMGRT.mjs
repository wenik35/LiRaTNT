import './polyfills.server.mjs';
import{F as Q,G as P,I as V,J as g,K as R,L as $,O as z,U as L,a as U,b as c,c as u,d as f,e as A,f as O,g as x,h,i as C,j as d,k as a,l as o,m as b,n as y,o as l,p as F,q as j,r as D,s as S,t as E,u as v,v as k,w as N,x as p,y as M}from"./chunk-PDIPJ33W.mjs";var _=(()=>{let e=class e{constructor(){this.availableCards=[];for(let t=0;t<120;t++)this.availableCards.push(t)}swapCard(t,i){this.cachedCallbackFun?(this.cachedCallbackFun(t),i(this.cachedCardId),this.cachedCallbackFun=void 0):t==this.cachedCardId&&this.cachedCallbackFun?this.cachedCallbackFun=void 0:(this.cachedCardId=t,this.cachedCallbackFun=i)}drawCard(){let t=Math.floor(Math.random()*this.availableCards?.length),i=this.availableCards[t];return this.availableCards.splice(t,1),i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Y=n=>({active:n}),I=(()=>{let e=class e{constructor(t){this.cardExchangeService=t,this.ev=new A,this.cardId=-1,this.isActive=!1}cardClicked(){this.isActive=!this.isActive,this.cardExchangeService.swapCard(this.cardId,t=>{this.cardId=t,this.isActive=!1,this.ev.emit(this.cardId)})}};e.\u0275fac=function(i){return new(i||e)(h(_))},e.\u0275cmp=c({type:e,selectors:[["card-display"]],inputs:{cardId:"cardId"},outputs:{ev:"ev"},standalone:!0,features:[p],decls:1,vars:5,consts:[[3,"click","ngClass","src"]],template:function(i,r){i&1&&(a(0,"img",0),l("click",function(){return r.cardClicked()}),o()),i&2&&(j("src","../../assets/cards/",r.cardId,".jpg",O),d("ngClass",M(3,Y,r.isActive)))},dependencies:[V],styles:[`img{border:1px solid black;max-height:100%}.active{border:2px solid red!important}
`],encapsulation:2});let n=e;return n})();function Z(n,e){if(n&1){let s=y();a(0,"card-display",1),l("ev",function(){u(s);let i=F();return f(i.cardChanged())}),o()}if(n&2){let s=e.$implicit;d("cardId",s)}}var T=(()=>{let e=class e{constructor(){this.cardIds=[-1]}cardChanged(){let t=this.displays.toArray().findIndex(i=>i.cardId==-1);t==-1?this.cardIds.push(-1):t<this.cardIds.length-1&&this.cardIds.length>1&&this.cardIds.splice(t,1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=c({type:e,selectors:[["card-collection"]],viewQuery:function(i,r){if(i&1&&D(I,5),i&2){let m;S(m=E())&&(r.displays=m)}},standalone:!0,features:[p],decls:1,vars:1,consts:[[3,"cardId","ev",4,"ngFor","ngForOf"],[3,"ev","cardId"]],template:function(i,r){i&1&&C(0,Z,1,1,"card-display",0),i&2&&d("ngForOf",r.cardIds)},dependencies:[I,g]});let n=e;return n})();function ee(n,e){if(n&1){let s=y();a(0,"div",4)(1,"h1",3),l("click",function(){let i=u(s).$implicit,r=F();return f(r.deletePlayer(i.id))}),v(2,"X"),o(),a(3,"span"),v(4),o(),b(5,"card-collection"),o()}if(n&2){let s=e.$implicit;x(4),k(s.name)}}var K=(()=>{let e=class e{constructor(t){this.highestPlayerId=-1,this.players=[{id:this.highestPlayerId++,name:"test"}],this.addUserInput=t.getElementById("add-user-input")}addUser(){let t=this.addUserInput.value;t&&(this.addUserInput.textContent="",this.players.push({id:this.highestPlayerId++,name:t}))}deletePlayer(t){let i=this.players.findIndex(r=>r.id=t);this.players.splice(i,1)}};e.\u0275fac=function(i){return new(i||e)(h(P))},e.\u0275cmp=c({type:e,selectors:[["user-list"]],standalone:!0,features:[p],decls:5,vars:1,consts:[["class","player-container",4,"ngFor","ngForOf"],["id","user-list"],["id","add-user-input"],[3,"click"],[1,"player-container"]],template:function(i,r){i&1&&(C(0,ee,6,1,"div",0),a(1,"div",1),b(2,"input",2),a(3,"button",3),l("click",function(){return r.addUser()}),v(4,"Spieler hinzuf\xFCgen"),o()()),i&2&&d("ngForOf",r.players)},dependencies:[g,T],styles:[`user-list .player-container{font-size:xx-large;display:flex;flex-direction:row;align-items:center}user-list .player-container h1{cursor:pointer;margin-right:1rem}user-list .player-container h1:hover{color:red}user-list .player-container span{min-width:15rem}user-list .player-container img{height:9vh;margin-left:.5rem}
`],encapsulation:2});let n=e;return n})();var te=n=>({inactive:n});function ie(n,e){if(n&1){let s=y();a(0,"button",3),l("click",function(){let i=u(s).$implicit;return f(i.action())}),v(1),o()}if(n&2){let s=e.$implicit;d("ngClass",M(2,te,!s.active)),x(),k(s.name)}}var B=(()=>{let e=class e{constructor(t){this.cardService=t,this.buttons=[]}ngAfterViewInit(){this.buttons.push({name:"Neue Karte ziehen",active:!0,action:()=>{let t=this.cardService.drawCard();this.mainCardDisplay.cardId=t,this.cardChanged(t)}},{name:"Karte wegwerfen",active:!1,action:()=>{this.mainCardDisplay.cardId=-1,this.cardChanged(-1)}})}cardChanged(t){t==-1?(this.buttons[0].active=!0,this.buttons[1].active=!1):(this.buttons[0].active=!1,this.buttons[1].active=!0)}};e.\u0275fac=function(i){return new(i||e)(h(_))},e.\u0275cmp=c({type:e,selectors:[["main-display"]],viewQuery:function(i,r){if(i&1&&D(I,5),i&2){let m;S(m=E())&&(r.mainCardDisplay=m.first)}},standalone:!0,features:[p],decls:3,vars:1,consts:[[1,"button-container"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"middle-card",3,"ev"],[3,"click","ngClass"]],template:function(i,r){i&1&&(a(0,"div",0),C(1,ie,2,4,"button",1),o(),a(2,"card-display",2),l("ev",function(W){return r.cardChanged(W)}),o()),i&2&&(x(),d("ngForOf",r.buttons))},dependencies:[I,g,V],styles:[`.inactive{display:none}.button-container{display:flex;flex-direction:row}
`],encapsulation:2});let n=e;return n})();var H=(()=>{let e=class e{constructor(){this.title="liratnt"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=c({type:e,selectors:[["app-root"]],standalone:!0,features:[N([_]),p],decls:5,vars:0,consts:[[1,"main"],["id","content"],[1,"side-bar"]],template:function(i,r){i&1&&(a(0,"main",0)(1,"div",1),b(2,"user-list")(3,"main-display")(4,"card-collection",2),o()())},dependencies:[K,B,T],styles:[`#content{display:flex;flex-direction:row;justify-content:space-between;font-family:sans-serif}#content main-display{height:50vh}#content card-display{height:fit-content}#content .side-bar{display:flex;flex-direction:column}#content .side-bar img{max-height:10rem}
`],encapsulation:2});let n=e;return n})();var X=[];var G={providers:[L(X),$()]};var ne={providers:[z()]},J=Q(G,ne);var re=()=>R(H,J),ze=re;export{ze as a};
